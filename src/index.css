@tailwind base;
@tailwind components;
@tailwind utilities;

/* Custom utilities for a polished UI */
:root {
    --container-max: 1200px;
}

@layer base {
    html {
        scroll-behavior: smooth;
    }

    body {
        font-family:
            "Inter",
            -apple-system,
            BlinkMacSystemFont,
            "Segoe UI",
            "Roboto",
            "Oxygen",
            "Ubuntu",
            "Cantarell",
            "Fira Sans",
            "Droid Sans",
            "Helvetica Neue",
            sans-serif;
        -webkit-font-smoothing: antialiased;
        -moz-osx-font-smoothing: grayscale;
        @apply bg-neutral-50 dark:bg-neutral-900 text-neutral-900 dark:text-neutral-50;
    }

    /* Transitions fluides pour le dark mode */
    * {
        @apply transition-colors duration-300;
    }

    /* Exclure certaines propriétés de la transition globale pour de meilleures performances */
    img,
    svg,
    video,
    canvas,
    audio,
    iframe,
    embed,
    object {
        @apply transition-none;
    }
}

@layer components {
    .app-container {
        @apply mx-auto px-4 w-full max-w-7xl;
    }

    .hero {
        @apply text-center py-16 md:py-24 animate-fade-in;
    }

    .page-transition {
        @apply animate-fade-in;
    }

    /* Styles pour les cartes avec support dark mode */
    .card-modern {
        @apply bg-white dark:bg-neutral-800 rounded-xl shadow-soft dark:shadow-medium;
        @apply border border-neutral-200 dark:border-neutral-700;
        @apply transition-all duration-300 hover:shadow-medium dark:hover:shadow-glow;
    }

    /* Styles pour les boutons avec dégradés */
    .btn-gradient-primary {
        @apply bg-gradient-to-r from-primary-500 to-primary-600 hover:from-primary-600 hover:to-primary-700;
        @apply text-white font-semibold shadow-glow hover:shadow-glow-purple;
        @apply transition-all duration-300 transform hover:scale-105;
    }

    .btn-gradient-secondary {
        @apply bg-gradient-to-r from-secondary-500 to-secondary-600 hover:from-secondary-600 hover:to-secondary-700;
        @apply text-white font-semibold shadow-glow-purple;
        @apply transition-all duration-300 transform hover:scale-105;
    }
}

@layer utilities {
    .line-clamp-2 {
        display: -webkit-box;
        -webkit-line-clamp: 2;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    .line-clamp-3 {
        display: -webkit-box;
        -webkit-line-clamp: 3;
        -webkit-box-orient: vertical;
        overflow: hidden;
    }

    .glass-effect {
        @apply bg-white/10 dark:bg-neutral-900/10 backdrop-blur-md;
        @apply border border-white/20 dark:border-neutral-700/20;
    }
    
    /* Accessibilité */
    .sr-only {
        position: absolute;
        width: 1px;
        height: 1px;
        padding: 0;
        margin: -1px;
        overflow: hidden;
        clip: rect(0, 0, 0, 0);
        white-space: nowrap;
        border-width: 0;
    }
    
    .focus\:not-sr-only:focus {
        position: static;
        width: auto;
        height: auto;
        padding: inherit;
        margin: inherit;
        overflow: visible;
        clip: auto;
        white-space: normal;
    }
    
    /* Focus visible amélioré */
    *:focus-visible {
        @apply outline-2 outline-offset-2 outline-primary-500 dark:outline-primary-400;
    }

    /* Dégradés réutilisables */
    .gradient-primary {
        @apply bg-gradient-to-r from-primary-500 via-primary-600 to-secondary-500;
    }

    .gradient-hero {
        @apply bg-gradient-to-br from-primary-500 via-secondary-500 to-accent-500;
    }

    .gradient-text {
        @apply bg-clip-text text-transparent bg-gradient-to-r from-primary-600 to-secondary-600;
    }

    .gradient-text-dark {
        @apply dark:from-primary-400 dark:to-secondary-400;
    }
}
